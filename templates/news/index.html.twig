{% extends 'base.html.twig' %}

{% block title %}
	{{ page_title }}
{% endblock %}

{% block body %}

	<div class="card">
		<div class="card-body">
			<div class="display-grid">
				<nav aria-label="breadcrumb">
					<ol class="breadcrumb">
						<li class="breadcrumb-item">
							<a href="{{ path('app_home') }}">Нүүр хуудас</a>
						</li>

						<li class="breadcrumb-item">
							<a>Мэдээ мэдээлэл</a>
						</li>
					</ol>
				</nav>
			</div>

			<div>
				<a href="{{ path('app_news_create') }}" class="btn btn-primary btn-sm">
					+ Шинээр нэмэх</a>
			</div>

			<br>

			{% include 'layout/flash.html.twig' %}

			<div class="table-responsive">
				<table class="table table-hover" id="dataTable" width="100%" cellspacing="0">
					<thead>
						<tr>
							<th>№</th>
							<th>Гарчиг(Монгол)</th>
							<th>Гарчиг(Англи)</th>
							<th>Гарчиг(Хятад)</th>
							<th>Агуулга(Монгол)</th>
							<th>Агуулга(Англи)</th>
							<th>Агуулга(Хятад)</th>
							<th>Онцгой</th>
							<th>Төлөв</th>
							<th>Явц</th>
							<th>Контентууд</th>
							<th>#</th>
						</tr>
					</thead>
					<tbody>
						{% for n in news %}
							<tr>
								<td>{{ n.id }}</td>
								<td>{{ n.mnTitle }}</td>
								<td>{{ n.enTitle }}</td>
								<td>{{ n.cnTitle }}</td>
								<td>{{ n.mnHeadline }}</td>
								<td>{{ n.enHeadline }}</td>
								<td>{{ n.cnHeadline }}</td>
								<td>
									{% if n.isSpecial == true %}
										<b style="color: darkgreen">Энгийн</b>
									{% else %}
										<b style="color: red">Онцгой</b>
									{% endif %}
								</td>
								<td>
									{% if n.active == true %}
										<b style="color: darkgreen">Идэвхитэй</b>
									{% else %}
										<b style="color: red">Идэвхигүй</b>
									{% endif %}
								</td>
								<td>
									{% if n.processType == 'CREATED' %}
										<a href="#" id="editButton" class="btn btn-primary btn-sm">
											Нийтлэх
										</a>
									{% endif %}
								</td>
								<td>
									<a href="{{ path('app_news_contents', {'id' : n.id}) }}" class="btn btn-primary btn-sm">
										Контентууд</a>
								</td>
								<td>
									<a href="{{ path('app_news_edit', {'id' : n.id}) }}" class="btn btn-primary btn-sm">
										<i class="fas fa-edit"></i>
									</a>
								</td>
							</tr>
						{% endfor %}
					</tbody>
				</tr>
			</tbody>
		</tbody>
	</table>
</div></div></div>{# <script>document.getElementById('editButton').addEventListener('click', function () {
								
								fetch('your_api_endpoint', {
								method: 'PUT',
								headers: {
								'Content-Type': 'application/json'
								},
								body: JSON.stringify(
								{key1: 'value1', key2: 'value2'}
								)
								}).then(response => {
								if (!response.ok) {
								throw new Error('Network response was not ok');
								}
								return response.json();
								}).then(data => {
								console.log(data);
								}).catch(error => {
								console.error('There was a problem with the fetch operation:', error);
								});
								});</script> #}{% endblock %}
