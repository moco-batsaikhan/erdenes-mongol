{% extends 'base.html.twig' %}

{% block title %}
	{{ page_title }}
{% endblock %}
{% block body %}


	<div class="card">
		<div class="card-body">
			<div class="display-grid">
				<nav aria-label="breadcrumb">
					<ol class="breadcrumb">
						<li class="breadcrumb-item">
							<a href="{{ path('app_home') }}">Нүүр хуудас</a>
						</li>

						<li class="breadcrumb-item">
							<a href="{{ path('app_main_category_index') }}">Үндсэн цэс</a>
						</li>

						<li class="breadcrumb-item active" aria-current="page">
							Засах
						</li>
					</ol>
				</nav>
			</div>

			{% include 'layout/flash.html.twig' %}

			{{ form_start(mainCategoryForm) }}

			<div class="form-group">
				{{ form_row(mainCategoryForm.mnName) }}
			</div>

			<div class="form-group">
				{{ form_row(mainCategoryForm.enName) }}
			</div>

			<div class="form-group">
				{{ form_row(mainCategoryForm.cnName) }}
			</div>

			<div class="form-group">
				{{ form_row(mainCategoryForm.priority) }}
			</div>

			<div class="form-group">
				{{ form_row(mainCategoryForm.type) }}
			</div>

			<div class="form-group">
				{{ form_row(mainCategoryForm.active) }}
			</div>

			<div class="form-group">
				{{ form_row(mainCategoryForm.clickType) }}
			</div>

			<div class="form-group" id="create-type-field" style="display: none;">
				<p>
					Шинээр жагсаалт үүсгэх
				</p>

				<a href="{{ path('app_news_type_create') }}" class="btn btn-success btn-sm">
					Шинэ жагсаалт нэмэх</a>
			</div>

			<div class="form-group" id="redirectLink-field" style="display: none;">
				{{ form_row(mainCategoryForm.redirectLink) }}
			</div>

			<div class="form-group" id="newsId-field" style="display: none;">
				{{ form_row(mainCategoryForm.newsId) }}
			</div>

			<div class="form-group" id="newsType-field" style="display: none;">
				{{ form_row(mainCategoryForm.newsType) }}
			</div>

			{{ form_end(mainCategoryForm) }}

		</div>
	</div>

	<script>
		document.addEventListener("DOMContentLoaded", function () {
var clickTypeSelect = document.getElementById(`main_category_Form_clickType`);

console.log("test", clickTypeSelect);

clickTypeSelect.addEventListener('change', function () {
var selectedValue = clickTypeSelect.value;

document.getElementById('redirectLink-field').style.display = 'none';
document.getElementById('newsId-field').style.display = 'none';
document.getElementById('newsType-field').style.display = 'none';
document.getElementById('create-type-field').style.display = 'none';

if (selectedValue && mainCategoryForm.clickType === 'REDIRECT') {
document.getElementById('newsId-field').style.display = 'block';

} else if (selectedValue && mainCategoryForm.clickType === 'LINK') {
document.getElementById('redirectLink-field').style.display = 'block';

} else if (selectedValue && mainCategoryForm.clickType === 'THUMBNAIL') {
document.getElementById('create-type-field').style.display = 'block';
document.getElementById('newsType-field').style.display = 'block';
} else if (selectedValue && mainCategoryForm.clickType === 'DROPDOWN') {}
});
});
	</script>

{% endblock %}
